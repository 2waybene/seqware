package com.github.seqware.model;

import java.lang.SecurityException;
import java.util.UUID;

/**
 * Access control list that determines permissions and access rights to features and feature sets.
 *
 * Access control lists are generated by a factory pattern, where a user can request an ACL object
 * that is then assembled and returned with a configuration that is in accordance with the ACL
 * constraints that are applicable to the current user context.
 *
 * @author dyuen
 * @author jbaran
 */
public class ACL implements ACLable {
    
    /**
     * Internally used unique identifier of this feature.
     */
    private UUID uuid;
    
    /**
     * Creates a new access control list.
     */
    private ACL() {
        // TODO This will have to be replaced with a stronger UUID generation method.
        this.uuid = UUID.randomUUID();
    }

    /**
     * Factory method for creating new context-aware ACL objects.
     *
     * @return An ACL object that is in accordance with the current user access context.
     * @throws SecurityException Thrown when the current ACL context does not permit getting a new ACL instance.
     */
    public ACL getInstance() throws SecurityException {
        return new ACL();
    }

    /**
     * Get the universally unique identifier of this feature.
     */
    public UUID getUUID() {
        return this.uuid;
    }

    public ACL getPermissions() {
        return this;
    }

    public void setPermissions(ACL acl) {
        throw new SecurityException("No one has currently access to set permissions.");
    }
}
